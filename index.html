<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Elusive Button</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
            position: relative;
            overflow: hidden;
            background-color: #1f2937; /* Dark background remains */
        }

        #click-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.2s ease;
        }

        /* Styling for the video container to ensure it fills the screen for centering */
        #video-container {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>

    <button 
        id="click-button" 
        class="
            px-8 py-4 text-xl font-bold 
            bg-indigo-600 text-white 
            rounded-xl shadow-lg 
            hover:bg-indigo-700 hover:shadow-2xl 
            focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50
            active:bg-indigo-800
        "
    >
        Click Here
    </button>

    <script>
        let clickCount = 0;
        const maxClicks = 3;
        const button = document.getElementById('click-button');
        const body = document.body;

        function getRandomPosition() {
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const buttonWidth = button.offsetWidth;
            const buttonHeight = button.offsetHeight;

            const safeX = viewportWidth - buttonWidth;
            const safeY = viewportHeight - buttonHeight;
            
            const newX = Math.floor(Math.random() * safeX);
            const newY = Math.floor(Math.random() * safeY);

            return { x: newX, y: newY };
        }

        function handleButtonClick() {
            clickCount++;

            if (clickCount < maxClicks) {
                // Clicks 1 and 2: Move the button
                const newPos = getRandomPosition();
                
                button.style.transform = 'none';
                button.style.left = `${newPos.x}px`;
                button.style.top = `${newPos.y}px`;

            } else if (clickCount === maxClicks) {
                // Click 3: Show the video
                button.classList.add('hidden');

                const videoId = 'vqs9lv';
                
                // Embed the Streamable video, set to autoplay and mute to comply with browser policies
                const videoEmbed = `
                    <div id="video-container" class="flex justify-center items-center p-4">
                        <iframe 
                            src="https://streamable.com/e/${videoId}?autoplay=1&muted=1&loop=1" 
                            frameborder="0" 
                            allowfullscreen 
                            allow="autoplay; encrypted-media; fullscreen"
                            class="w-full h-full max-w-4xl max-h-[80vh] rounded-xl shadow-2xl"
                        ></iframe>
                    </div>
                `;

                // Replace all current body content with the video
                body.innerHTML = videoEmbed;
            }
        }
        
        button.addEventListener('click', handleButtonClick);
    </script>
</body>
</html>
